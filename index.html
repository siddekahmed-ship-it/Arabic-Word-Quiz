<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Arabic Quiz Progress Tracker</title>
  <style>
    body {
  font-family: 'Amiri', 'Noto Naskh Arabic', 'Arial', sans-serif;
  background: #f7f7fa;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  font-size: 1.1em;
}
h1 { margin-top: 30px; color: #2c3e50; }
#quiz-box {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 4px 24px rgba(44,62,80,0.12);
  padding: 30px 24px;
  margin: 30px 0 20px 0;
  width: 350px;
  max-width: 98vw;
}
#question { font-size: 1.1em; margin-bottom: 18px; }
#question b { font-size: 1.5em !important; font-family: 'Amiri', 'Noto Naskh Arabic', serif; }
.choices { display: flex; flex-direction: column; gap: 12px; }
.choice-btn, #next-btn, #reset-btn {
  font-size: 1em;
  padding: 12px 18px;
  border-radius: 8px;
  border: 1px solid #16a085;
  background: #f7f7fa;
  cursor: pointer;
  transition: background 0.2s;
  margin-bottom: 2px;
  min-width: 0;
  box-sizing: border-box;
}
.choice-btn:hover, #next-btn:hover, #reset-btn:hover { background: #e0f7fa; }
.choice-btn.correct { background: #b2f2bb; border-color: #27ae60; }
.choice-btn.incorrect { background: #ffb3b3; border-color: #e74c3c; }
#progress-bar { width: 100%; background: #eee; border-radius: 8px; height: 16px; margin: 18px 0; }
#progress { background: #16a085; height: 100%; border-radius: 8px; transition: width 0.3s; }
#stats { margin-bottom: 10px; color: #555; }
#next-btn { margin-top: 18px; background: #2c3e50; color: #fff; border: none; }
#next-btn:disabled { background: #aaa; }
#reset-btn { margin-top: 10px; background: #e74c3c; color: #fff; border: none; }
@media (max-width: 600px) {
  body { font-size: 1.15em; }
  #quiz-box { width: 98vw; min-width: 0; }
  #question { font-size: 1.15em; }
  #question b { font-size: 1.3em !important; }
  .choice-btn, #next-btn, #reset-btn {
    font-size: 1.1em;
    padding: 14px 10px;
    min-width: 0;
  }
}
  </style>
</head>
<body>
  <h1>quiz</h1>


<h1>Down for Maintenance</h1>
  <div id="stats"></div>
  <div id="progress-bar"><div id="progress"></div></div>
  <div id="quiz-box">
    <div id="question"></div>
    <div class="choices" id="choices"></div>
    <button id="next-btn" onclick="nextQuestion()" disabled>Next</button>
    <button id="reset-btn" onclick="resetProgress()">Reset Progress</button>
  </div>
  <script>
  // Sample data (replace with your full list for production)
  const wordList = [
  {
    "Number": "Plural",
    "Person": "3rd person (masculine)",
    "English Pronoun": "they (m)",
    "Arabic Pronoun": "هم"
  },
  {
    "Number": "Plural",
    "Person": "3rd person (feminine)",
    "English Pronoun": "they (f)",
    "Arabic Pronoun": "هن"
  },
  {
    "Number": "Plural",
    "Person": "2nd person (masculine)",
    "English Pronoun": "you (m)",
    "Arabic Pronoun": "أنتم"
  },
  {
    "Number": "Plural",
    "Person": "2nd person (feminine)",
    "English Pronoun": "you (f)",
    "Arabic Pronoun": "أنتن"
  },
  {
    "Number": "Plural",
    "Person": "1st person",
    "English Pronoun": "we",
    "Arabic Pronoun": "نحن"
  },
  {
    "Number": "Dual",
    "Person": "3rd person (masculine/feminine)",
    "English Pronoun": "they both",
    "Arabic Pronoun": "هما"
  },
  {
    "Number": "Dual",
    "Person": "2nd person",
    "English Pronoun": "you both",
    "Arabic Pronoun": "أنتما"
  },
  {
    "Number": "Singular",
    "Person": "3rd person (masculine)",
    "English Pronoun": "he",
    "Arabic Pronoun": "هو"
  },
  {
    "Number": "Singular",
    "Person": "3rd person (feminine)",
    "English Pronoun": "she",
    "Arabic Pronoun": "هي"
  },
  {
    "Number": "Singular",
    "Person": "2nd person (masculine)",
    "English Pronoun": "you (m)",
    "Arabic Pronoun": "أنتَ"
  },
  {
    "Number": "Singular",
    "Person": "2nd person (feminine)",
    "English Pronoun": "you (f)",
    "Arabic Pronoun": "أنتِ"
  },
  {
    "Number": "Singular",
    "Person": "1st person",
    "English Pronoun": "I",
    "Arabic Pronoun": ""
  }
]

  let quizWords = [];
  let mastered = [];
  let wrongCount = 0;
  let currentIdx = 0, currentQ = null, answered = false, wrongThisQuestion = false;
  const totalQuestions = 10;

  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function startQuiz() {
    quizWords = shuffle([...wordList]).slice(0, totalQuestions);
    mastered = [];
    wrongCount = 0;
    currentIdx = 0;
    showQuestion();
  }

  function updateStats() {
    document.getElementById('stats').textContent =
      `Answered: ${currentIdx} / ${totalQuestions} | Mastered: ${mastered.length} | Wrong answers: ${wrongCount}`;
    document.getElementById('progress').style.width = ((currentIdx/totalQuestions)*100) + '%';
  }

  function pickQuestion() {
  if (currentIdx >= totalQuestions) return null;
  const word = quizWords[currentIdx];
  const qType = Math.ceil(Math.random() * 3); // Limit to 3 valid question types
  let question = {}, choices = [], answer = "";

  if (qType === 1) {
    // Arabic → English
    question.text = `What is the English meaning of <b style="font-size:2em;color:#16a085">${word["Arabic Pronoun"]}</b>?`;
    answer = word["English Pronoun"];
    choices = shuffle(wordList.map(w => w["English Pronoun"]).filter(e => e !== answer)).slice(0, 3);
    choices.push(answer);
    choices = shuffle(choices);
  } else if (qType === 2) {
    // English → Arabic
    question.text = `Which Arabic pronoun means <b style="color:#34495e">${word["English Pronoun"]}</b>?`;
    answer = word["Arabic Pronoun"];
    choices = shuffle(wordList.map(w => w["Arabic Pronoun"]).filter(a => a !== answer && a !== "")).slice(0, 3);
    choices.push(answer);
    choices = shuffle(choices);
  } else {
    // Arabic → Grammatical Info
    question.text = `What is the grammatical description of <b style="font-size:2em;color:#16a085">${word["Arabic Pronoun"]}</b>?`;
    answer = `${word.Number}, ${word.Person}`;
    choices = shuffle(wordList.map(w => `${w.Number}, ${w.Person}`).filter(g => g !== answer)).slice(0, 3);
    choices.push(answer);
    choices = shuffle(choices);
  }

  question.choices = choices;
  question.answer = answer;
  question.word = word;
  question.qType = qType;
  return question;
}

  function showQuestion() {
    updateStats();
    wrongThisQuestion = false;
    currentQ = pickQuestion();
    if (!currentQ) {
      document.getElementById('question').innerHTML =
        `<b>Quiz complete!</b><br>
        Mastered: ${mastered.length} / ${totalQuestions}<br>
        Wrong answers: ${wrongCount}<br>
        <button onclick="startQuiz()" style="font-size:1.2em;padding:14px 28px;margin-top:16px;">Restart Quiz</button>`;
      document.getElementById('choices').innerHTML = "";
      document.getElementById('next-btn').disabled = true;
      return;
    }
    document.getElementById('question').innerHTML = currentQ.text;
    const choicesDiv = document.getElementById('choices');
    choicesDiv.innerHTML = "";
    currentQ.choices.forEach(choice => {
      const btn = document.createElement('button');
      btn.className = "choice-btn";
      btn.innerHTML = choice;
      btn.onclick = () => selectAnswer(btn, choice);
      choicesDiv.appendChild(btn);
    });
    document.getElementById('next-btn').disabled = true;
    answered = false;
  }

  function selectAnswer(btn, choice) {
    if (answered) return;
    answered = true;
    const correct = choice === currentQ.answer;
    btn.classList.add(correct ? "correct" : "incorrect");
    Array.from(document.getElementsByClassName('choice-btn')).forEach(b => {
      if (b.innerHTML === currentQ.answer) b.classList.add("correct");
      b.disabled = true;
    });
    if (correct && !mastered.includes(currentIdx)) {
      mastered.push(currentIdx);
    }
    if (!correct && !wrongThisQuestion) {
      wrongCount += 1;
      wrongThisQuestion = true;
    }
    document.getElementById('next-btn').disabled = false;
    updateStats();
  }

  function nextQuestion() {
    currentIdx++;
    showQuestion();
  }

  function resetProgress() {
    startQuiz();
  }

  // Start the quiz when the page loads
  startQuiz();
</script>

</body>
</html>
